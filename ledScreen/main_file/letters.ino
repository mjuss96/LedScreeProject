// all characters can be changed to be using HEX/decimal that is converted to binary in code
// all numbers here present the characters on LED screen - 1. means led on - while 0 means led OFF.
// basically (almost) each character has the size of 3x5
int a[] = {
  1, 0, 1,
  1, 0, 1,
  1, 1, 1,
  1, 0, 1,
  1, 1, 1
};

int bee[] = {
  1, 1, 0,
  1, 0, 1,
  1, 1, 0,
  1, 0, 1,
  1, 1, 0
};

int c[] = {
  0, 1, 1,
  1, 0, 0,
  1, 0, 0,
  1, 0, 0,
  0, 1, 1
};

int d[] = {
  1, 1, 0,
  1, 0, 1,
  1, 0, 1,
  1, 0, 1,
  1, 1, 0
};

int e[] = {
  1, 1, 1,
  1, 0, 0,
  1, 1, 1,
  1, 0, 0,
  1, 1, 1
};
int f[] = {
  1, 0, 0,
  1, 0, 0,
  1, 1, 1,
  1, 0, 0,
  1, 1, 1
};
int gee[] = {
  1, 1, 1,
  1, 0, 1,
  1, 0, 1,
  1, 0, 0,
  1, 1, 1
};
int h[] = {
  1, 0, 1,
  1, 0, 1,
  1, 1, 1,
  1, 0, 1,
  1, 0, 1
};
int iii[] = {
  0, 0, 1,
  0, 0, 1,
  0, 0, 1,
  0, 0, 1,
  0, 0, 1
};
int j[] = {
  1, 1, 1,
  1, 0, 1,
  0, 0, 1,
  0, 0, 1,
  0, 0, 1
};
int k[] = {
  1, 0, 1,
  1, 0, 1,
  1, 1, 0,
  1, 0, 1,
  1, 0, 1
};
int l[] = {
  1, 1, 1,
  1, 0, 0,
  1, 0, 0,
  1, 0, 0,
  1, 0, 0
};
int m[] = {
  1, 0, 1,
  1, 0, 1,
  1, 0, 1,
  1, 1, 1,
  1, 0, 1
};
int n[] = {
  1, 0, 1,
  1, 0, 1,
  1, 0, 1,
  1, 0, 1,
  1, 1, 1
};
int o[] = {
  1, 1, 1,
  1, 0, 1,
  1, 0, 1,
  1, 0, 1,
  1, 1, 1
};
int p[] = {
  1, 0, 0,
  1, 0, 0,
  1, 1, 1,
  1, 0, 1,
  1, 1, 1
};
int quu[] = {
  0, 1, 0,
  1, 1, 1,
  1, 0, 1,
  1, 0, 1,
  1, 1, 1
};
int rrr[] = {
  1, 0, 1,
  1, 0, 1,
  1, 1, 0,
  1, 0, 1,
  1, 1, 1
};
int s[] = {
  1, 1, 1,
  0, 0, 1,
  1, 1, 1,
  1, 0, 0,
  1, 1, 1
};
int t[] = {
  0, 1, 0,
  0, 1, 0,
  0, 1, 0,
  0, 1, 0,
  1, 1, 1
};
int u[] = {
  1, 1, 1,
  1, 0, 1,
  1, 0, 1,
  1, 0, 1,
  1, 0, 1
};
int v[] = {
  1, 1, 0,
  1, 0, 1,
  1, 0, 1,
  1, 0, 1,
  1, 0, 1
};
int yy[] = {
  0, 1, 0,
  0, 1, 0,
  1, 0, 1,
  1, 0, 1,
  1, 0, 1
};
int z[] = {
  1, 1, 1,
  1, 0, 0,
  0, 1, 0,
  0, 0, 1,
  1, 1, 1
};
int nolla[] = {
  1, 1, 1,
  1, 0, 1,
  1, 0, 1,
  1, 0, 1,
  1, 1, 1
};
int yksi[] = {
  0, 0, 1,
  0, 0, 1,
  0, 0, 1,
  0, 0, 1,
  0, 1, 1
};
int kaksi[] = {
  1, 1, 1,
  1, 0, 0,
  1, 1, 1,
  0, 0, 1,
  1, 1, 1
};
int kolme[] = {
  1, 1, 1,
  0, 0, 1,
  1, 1, 1,
  0, 0, 1,
  1, 1, 1
};
int nelja[] = {
  0, 0, 1,
  0, 0, 1,
  1, 1, 1,
  1, 0, 1,
  1, 0, 1
};
int viisi[] = {
  1, 1, 1,
  0, 0, 1,
  1, 1, 1,
  1, 0, 0,
  1, 1, 1
};
int kuusi[] = {
  1, 1, 1,
  1, 0, 1,
  1, 1, 1,
  1, 0, 0,
  1, 1, 1
};
int seiska[] = {
  0, 0, 1,
  0, 0, 1,
  0, 0, 1,
  0, 0, 1,
  1, 1, 1
};
int kasi[] = {
  1, 1, 1,
  1, 0, 1,
  1, 1, 1,
  1, 0, 1,
  1, 1, 1
};
int ysi[] = {
  0, 0, 1,
  0, 0, 1,
  1, 1, 1,
  1, 0, 1,
  1, 1, 1
};
int huutis[] = {
  0, 0, 1,
  0, 0, 0,
  0, 0, 1,
  0, 0, 1,
  0, 0, 1
};
int kaksoispiste[] = {
  0, 0, 0,
  0, 0, 1,
  0, 0, 0,
  0, 0, 1,
  0, 0, 0
};

int empty[] = {0};
int color;
/* 
1. char param single CHAR, ex. "a",
2. int param coordinate on X, letter starts forming here
3. int param coordinate on Y 
4,5,6. - RGB values
*/
void displayLetter(char letter, int start_x, int start_y, int r, int g, int b) {
  // Letter size MAX, can be edited to be used size_of(letter) in elseif
  int size = 15;
  int * loopMe = empty;

  // not too pretty but not aware of any better way to do this.
  if (letter == 'a') loopMe = a;
  else if (letter == 'b') loopMe = bee;
  else if (letter == 'c') loopMe = c;
  else if (letter == 'd') loopMe = d;
  else if (letter == 'e') loopMe = e;
  else if (letter == 'f') loopMe = f;
  else if (letter == 'g') loopMe = gee;
  else if (letter == 'h') loopMe = h;
  else if (letter == 'i') loopMe = iii;
  else if (letter == 'j') loopMe = j;
  else if (letter == 'k') loopMe = k;
  else if (letter == 'l') loopMe = l;
  else if (letter == 'm') loopMe = m;
  else if (letter == 'n') loopMe = n;
  else if (letter == 'o') loopMe = o;
  else if (letter == 'p') loopMe = p;
  else if (letter == 'q') loopMe = quu;
  else if (letter == 'r') loopMe = rrr;
  else if (letter == 's') loopMe = s;
  else if (letter == 't') loopMe = t;
  else if (letter == 'u') loopMe = u;
  else if (letter == 'v') loopMe = v;
  else if (letter == 'y') loopMe = yy;
  else if (letter == 'z') loopMe = z;
  else if (letter == '0') loopMe = nolla;
  else if (letter == '1') loopMe = yksi;
  else if (letter == '2') loopMe = kaksi;
  else if (letter == '3') loopMe = kolme;
  else if (letter == '4') loopMe = nelja;
  else if (letter == '5') loopMe = viisi;
  else if (letter == '6') loopMe = kuusi;
  else if (letter == '7') loopMe = seiska;
  else if (letter == '8') loopMe = kasi;
  else if (letter == '9') loopMe = ysi;
  else if (letter == '!') loopMe = huutis; 
  else if (letter == ':') loopMe = kaksoispiste;

  // loop through the character values (15)
  int x = start_x;
  int kirjainLeveys = 3;
  int gv = 0;
  for (int i = 0; i < size; i++) {
    // if letter is one in the Table
    if (loopMe[i] == 1)
      leds[XY(x, start_y)].setRGB(r, g, b);

    x++;
    gv++;
    if (gv >= kirjainLeveys) {
      x = start_x;
      gv = 0;
      start_y++;
    }
  }

  FastLED.show();
}

/*
	funktio joka muuntaa int tyyppisen arvon 0-99999 merkkijonoksi,
	ja sen jälkeen piirtää luvun näytölle käyttäen displayWord -funktiota.
	funktio tarvii muutettavan luvun "int", piirrettävän luvun aloituspisteet x ja y, sekä väri arvot R,G ja B
*/
void displayNumbers (int Number, int nNumber, int x, int y, int Red, int Green, int Blue)
{ 
  // jos luku on liian iso tulostettavaksi kerralla, tulostetaan pelkästään xxxxx (TODO: tai rullaavana???)
  // myös negatiiviset luvut jätetään tulostamatta. funktion käyttössä ei tulla tarvitsemaan negatiivisia lukuja.  
    if(Number>99999 && Number<0)
  {
    displayWord("xxxxx", x, y, Red, Green, Blue);
  }
  
  //  erotellaan luvusta kymmenettuhannet,tuhannet, sadat, kymmenet ja ykköset.
  else
  {
  int tThousands= (Number/10000);
  int thousands = (Number/1000)%10;       
  int hundreds = (Number/100)%10;        
  int tens = (Number/10)%10;            
  int ones =  Number%10;               

  // muunnetaan kymmenettuhannet, tuhannet, sadat, kymmenet ja ykköset merkeiksi. 
  // Desimaali lukuarvo 48 vastaa ASCII merkistössä merkkiä '0',
  // 49 vastaa merkkiä '1', 50 merkkiä '2'... jne. 
  // lisätään muistissa oleviin arvoihin 48 joten saadaan ne vastaamaan ASCII taulukossa haluttua numeroa vastaavaa merkkiä.
  // esim. jos muistipaikalla "int thousands" on arvo 2 ja siihen lisätään 48,
  // niin saadaan lukuarvoksi 50, joka vastaa ASCII merkistössä merkkiä '2'
  char CHAR_tThousands =char(tThousands+48);
  char CHAR_thousands =char(thousands+48);
  char CHAR_hundreds =char(hundreds+48);
  char CHAR_tens =char(tens+48);
  char CHAR_ones =char(ones+48);


  Serial.println(tThousands);
  Serial.println(thousands);
  Serial.println(hundreds);
  Serial.println(tens);
  Serial.println(ones);
  Serial.println(nNumber);
          
  // tarkistetaan ettei tulosteta turhaa esim. lukua 12 muodossa 00012. 
  // Eli turhat merkityksettömät nollat jätetään poissa tulostuksesta
  if( tThousands==0 && thousands != 0 || nNumber==4)
  {
    char CHAR_Number[4];
    CHAR_Number[0]= CHAR_thousands;
    CHAR_Number[1]= CHAR_hundreds;
    CHAR_Number[2]= CHAR_tens;
    CHAR_Number[3]= CHAR_ones;
    displayWord(CHAR_Number, x, y, Red, Green, Blue);
  }
  else if(hundreds!=0 && thousands==0 || nNumber==3)
  {
    char CHAR_Number[3];
    CHAR_Number[0]= CHAR_hundreds;
    CHAR_Number[1]= CHAR_tens;
    CHAR_Number[2]= CHAR_ones;
    displayWord(CHAR_Number, x, y, Red, Green, Blue);
  }
  else if(tens!=0 && hundreds==0 || nNumber==2)
  {
    char CHAR_Number[2];
    CHAR_Number[0]= CHAR_tens;
    CHAR_Number[1]= CHAR_ones;
    displayWord(CHAR_Number, x, y, Red, Green, Blue);
  }
  else if(ones!=0 && tens==0 || nNumber==1)
  {
    char CHAR_Number[1];
    CHAR_Number[0] = CHAR_ones;
    displayWord(CHAR_Number, x, y, Red, Green, Blue);
  }
  else
  {
    char CHAR_Number[5];
    CHAR_Number[0]= CHAR_tThousands;
    CHAR_Number[1]= CHAR_thousands;
    CHAR_Number[2]= CHAR_hundreds;
    CHAR_Number[3]= CHAR_tens;
    CHAR_Number[4]= CHAR_ones;
    displayWord(CHAR_Number, x, y, Red, Green, Blue);
  }

  }
}
